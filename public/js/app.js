!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=22)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={fetch:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return m.request({method:"GET",url:"/hackernews/"+t+"/"+e})},getItem:function(t){return"object"===(void 0===t?"undefined":r(t))?Promise.resolve(t):m.request({method:"GET",url:"/hackernews/item/"+t}).then(function(t){return t[0]||t})},getKids:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(e>=t.length)){return o.getItem(t[e]).then(function(n){t[e]=n,e++,m.redraw(),o.getKids(t,e)})}},catchBaseUrl:function(){var t=window.location;m.request({method:"GET",url:t.protocol+"//"+t.hostname+(t.port?":"+t.port:""),headers:{"Content-Type":"text/html",Accept:"text/html"},deserialize:function(t){return t}})}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=[{title:"Top",section:"top",paginated:!0},{title:"New",section:"new",paginated:!0},{title:"Show",section:"show",paginated:!0},{title:"Ask",section:"ask",paginated:!0},{title:"Jobs",section:"job",paginated:!0}],o=["/hackernews/top/1"],i=function(){};e.default={sections:r,urlsToCache:o,cacheName:"hn-mithril",cacheVersion:"v1::",Log:i,hnOptions:{log:i,watch:!0}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default={comments:r(n(6)).default,credits:r(n(7)).default,listItem:r(n(8)).default,logo:r(n(9)).default}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(11),i=r(o),a=n(10),l=r(a),u=n(13),c=r(u),s=n(1),f=r(s),d=n(0),h=r(d);(0,i.default)(function(){h.default.catchBaseUrl()});var p=function(t){return{render:function(){l.default.Title("HN - "+t.title);var e=m.route.param("param")||"";return m(c.default.Layout,m(c.default.List,Object.assign({key:t.section+e,param:e},t)))}}},v={"/user/:param":{render:function(){l.default.Title("HN - User");var t=m.route.param("param")||"";return m(c.default.Layout,m(c.default.User,{key:t,param:t}))}},"/comments/:param":{render:function(){l.default.Title("HN - Comments");var t=m.route.param("param")||"";return m(c.default.Layout,m(c.default.Comments,{key:t,param:t}))}}};f.default.sections.map(function(t){v["/"+t.section]=p(t),v["/"+t.section+"/:param"]=p(t)}),v["/"]=p(f.default.sections[0]);var g=window.document.body||window.document.getElementsByTagName("body")[0];m.route(g,"/",v)},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i={collapsed:!0,toggle:function(t,e){e.state.collapsed=!e.state.collapsed,t.preventDefault()},view:function(t){var e=this;return void 0===t.attrs.id?m(".comment_item.fadeIn"):m(".comment-item.fadeIn",[m("",[m("a",{href:"/user/"+t.attrs.by,oncreate:m.route.link},t.attrs.by)," ",timeago().format(1e3*t.attrs.time)]),m("",m.trust(t.attrs.text)),void 0!==t.attrs.kids&&t.attrs.kids.length>0?m("",[this.collapsed?m('.comments-collapsed[data-background="primary 50"]',{key:"comments-collapsed-"+t.attrs.id},[m('a[href="#"]',{onclick:function(n){return e.toggle(n,t)}},"[+]")," "+t.attrs.kids.length+" replies collapsed"]):m("",[m('a.collapse-button[href="#"]',{onclick:function(n){return e.toggle(n,t)},key:"collapsed-button-"+t.attrs.id},"[-]"),m(a,t.attrs)])]):""])}},a={oninit:function(t){o.default.getKids(t.attrs.kids)},view:function(t){return t.attrs.kids.map(function(t){if(!0!==t.deleted)return m(i,t)})}};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={view:function(){return m("h1",["Built with ",m('a[target="_blank"][rel="noopener"][href="https://mithril.js.org/"][data-font="accent-100"]',"Mithril"),m("br"),"and ",m('a[target="_blank"][rel="noopener"][href="https://masquerade-circus.github.io/pure-material-css/#about"][data-font="accent-100"]',"Pure Material")])}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={view:function(t){return m("li",m('span[tabindex="-1"]',[m('span.icon-counter[data-font="primary"]',t.attrs.score),m("span",[m("small",m('a[target="_blank"][rel="noopener"]',{href:t.attrs.url},t.attrs.title)),m("br"),m("small",["by ",m("a",{href:"/user/"+t.attrs.by,oncreate:m.route.link},t.attrs.by)," ",timeago().format(1e3*t.attrs.time),void 0!==t.attrs.descendants?" | ":"",void 0!==t.attrs.descendants?m("a",{href:"/comments/"+t.attrs.id,oncreate:m.route.link},t.attrs.descendants+" comments"):""])])]))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={view:function(){return[m("svg[id='Capa_1'][version='1.1'][viewBox='0 0 38.044 38.044'][x='0px'][xml:space='preserve'][xmlns='http://www.w3.org/2000/svg'][xmlns:xlink='http://www.w3.org/1999/xlink'][y='0px']",{style:{"enable-background":"new 0 0 38.044 38.044"}},[m("g",[m("g",[m("path[d='M31.716,13.5C31.699,6.47,25.974,0.755,18.94,0.755c-7.045,0-12.777,5.732-12.777,12.777\t\t\tc0,0.022,0.004,0.043,0.004,0.065C2.477,15.84,0,19.887,0,24.511c0,7.046,5.731,12.777,12.777,12.777\t\t\tc2.268,0,4.395-0.601,6.244-1.642c1.849,1.041,3.977,1.642,6.245,1.642c7.046,0,12.777-5.732,12.777-12.777\t\t\tC38.043,19.82,35.495,15.722,31.716,13.5z M19.021,32.961c-2.312-1.713-3.906-4.341-4.22-7.352c1.3,0.448,2.689,0.702,4.139,0.702\t\t\tc1.514,0,2.96-0.278,4.307-0.764C22.949,28.584,21.349,31.236,19.021,32.961z M8.517,14.898c1.303-0.579,2.743-0.909,4.26-0.909\t\t\tc1.475,0,2.879,0.307,4.154,0.858c-2.114,1.826-3.629,4.325-4.195,7.167C10.473,20.352,8.898,17.814,8.517,14.898z M18.94,24.055\t\t\tc-1.457,0-2.846-0.298-4.109-0.837c0.361-2.928,1.929-5.482,4.19-7.157c2.243,1.662,3.802,4.187,4.18,7.085\t\t\tC21.897,23.727,20.457,24.055,18.94,24.055z M21.111,14.846c1.275-0.55,2.679-0.858,4.154-0.858c1.457,0,2.846,0.298,4.11,0.837\t\t\tc-0.356,2.885-1.883,5.404-4.089,7.082C24.704,19.108,23.199,16.65,21.111,14.846z M18.94,3.01c5.432,0,9.915,4.137,10.466,9.425\t\t\tc-1.3-0.447-2.689-0.702-4.14-0.702c-2.268,0-4.396,0.601-6.245,1.642c-1.848-1.041-3.975-1.642-6.244-1.642\t\t\tc-1.514,0-2.96,0.278-4.307,0.763C8.993,7.179,13.488,3.01,18.94,3.01z M12.777,35.034c-5.803,0-10.523-4.72-10.523-10.523\t\t\tc0-3.418,1.645-6.451,4.177-8.375c0.744,3.581,2.999,6.607,6.059,8.408c0.011,3.847,1.735,7.293,4.442,9.631\t\t\tC15.656,34.727,14.253,35.034,12.777,35.034z M25.266,35.034c-1.475,0-2.879-0.307-4.154-0.858\t\t\tc2.715-2.345,4.444-5.804,4.444-9.664c0-0.022-0.004-0.044-0.004-0.065c3.007-1.829,5.209-4.852,5.918-8.416\t\t\tc2.613,1.917,4.319,4.999,4.319,8.48C35.788,30.313,31.068,35.034,25.266,35.034z']")])])])]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={Ready:function(t){var e=/https?:\/\//.test(window.document.URL)?"DOMContentLoaded":"deviceready";window.document.addEventListener(e,t,!1)},Title:function(t){window.document.title=t,window.document.getElementsByTagName("title")[0].innerHtml=t}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(17),i=r(o),a=n(20),l=r(a),u=n(1),c=r(u);window.m=i.default,i.default.route.prefix(""),window.timeago=l.default,window.Log=c.default.Log,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};navigator.serviceWorker.register("{{upDir}}/sw.js",{scope:"{{upDir}}/"}).then(function(){return navigator.serviceWorker.ready}).then(function(e){window.Ready=!0,setTimeout(function(){t()},10)}).catch(function(t){return console.error("ServiceWorker registration failed: ",t)})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(0),l=r(a);e.default={comments:{},item:{},oninit:function(t){var e=this;l.default.getItem(t.attrs.param).then(function(t){return e.item=t})},view:function(t){return[m("article",[m('a[data-fab="accent back"]',{onclick:function(t){return window.history.back()}},"<"),m('section[data-card="full-width"]',[m("header",[m("h1",[void 0!==this.item.id?m('a[target="_blank"][rel="noopener"][data-font="default"]',{href:this.item.url},this.item.title):""])]),m("section",[void 0!==this.item.id?m("span",[this.item.score," points | by ",m("a",{href:"/user/"+this.item.by,oncreate:m.route.link},this.item.by)," ",timeago().format(1e3*this.item.time)]):""])]),m('section[data-card="full-width"]',[m("header",[m("h1",[void 0!==this.item.id?this.item.descendants+" comments":""])]),m("section",void 0!==this.item.id?m(i.default.comments,this.item):"")])]),m("footer",m(i.default.credits))]}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default={Layout:r(n(14)).default,List:r(n(15)).default,User:r(n(16)).default,Comments:r(n(12)).default}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(2),l=r(a);e.default={nav:[],oncreate:function(t){this.nav=i.default.sections},view:function(t){return[m("header",[m(".icon-logo",m(l.default.logo)),m("nav",i.default.sections.map(function(t){return m("a[data-button]",{href:"/"+t.section,oncreate:m.route.link},t.title)}))]),t.children]}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(0),l=r(a);e.default={elements:[],pagination:{show:!1,current:1,next:2,prev:0},section:"top",oninit:function(t){var e=this;this.section=t.attrs.section.toLowerCase(),window.Ready||(this.elements=initialData[this.section]),this.pagination.show=t.attrs.paginated||!1,this.pagination.current=parseInt(t.attrs.param)||1,this.pagination.next=this.pagination.current+1,this.pagination.prev=this.pagination.current-1,window.Ready&&l.default.fetch(this.section,this.pagination.current).then(function(t){return e.elements=t})},view:function(t){return[m("article",[m('section[data-card="full-width"]',[m("section",[m('ul[data-list="three-line"]',this.elements.map(function(t){return t.key=t.id,m(i.default.listItem,t)}))])])]),m("footer",[m(i.default.credits),this.pagination.show?m("nav",[this.pagination.prev>0?m("a[data-button]",{href:"/"+this.section+(this.pagination.prev>1?"/"+this.pagination.prev:""),oncreate:m.route.link},this.pagination.prev):"",m("span[data-button]",this.pagination.current),30===this.elements.length?m("a[data-button]",{href:"/"+this.section+"/"+this.pagination.next,oncreate:m.route.link},this.pagination.next):""]):""])]}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(0),l=r(a);e.default={user:{},oninit:function(t){var e=this;l.default.fetch("user",t.attrs.param).then(function(t){return e.user=t})},view:function(t){return[m("article",[m('a[data-fab="accent back"]',{onclick:function(t){return window.history.back()}},"<"),m('section[data-card="full-width"]',[m("header",[m("h1","User: ",this.user.id)]),m("section",[m("div","Karma: ",this.user.karma),m("div","Created: ",timeago().format(1e3*this.user.created)),m("hr"),m.trust(this.user.about||"No info"),m("hr"),m("div",[m('a[target="_blank"][rel="noopener"]',{href:"https://news.ycombinator.com/submitted?id="+this.user.id},"submissions")," | ",m('a[target="_blank"][rel="noopener"]',{href:"https://news.ycombinator.com/threads?id="+this.user.id},"comments")])])])]),m("footer",m(i.default.credits))]}}},function(t,e,n){(function(e,n){!function(){function r(t,e,n,r,o,i){return{tag:t,key:e,attrs:n,children:r,text:o,dom:i,domSize:void 0,state:void 0,_state:void 0,events:void 0,instance:void 0,skip:!1}}function o(t){var e,n=arguments[1],o=2;if(null==t||"string"!=typeof t&&"function"!=typeof t&&"function"!=typeof t.view)throw Error("The selector must be either a string or a component.");if("string"==typeof t){var i;if(!(i=l[t])){e="div";for(var c=[],s={};i=a.exec(t);){var f=i[1],d=i[2];""===f&&""!==d?e=d:"#"===f?s.id=d:"."===f?c.push(d):"["===i[3][0]&&((f=i[6])&&(f=f.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===i[4]?c.push(f):s[i[4]]=f||!0)}0<c.length&&(s.className=c.join(" ")),i=l[t]={tag:e,attrs:s}}}if(null==n?n={}:("object"!=typeof n||null!=n.tag||Array.isArray(n))&&(n={},o=1),arguments.length===o+1)e=arguments[o],Array.isArray(e)||(e=[e]);else for(e=[];o<arguments.length;)e.push(arguments[o++]);if(o=r.normalizeChildren(e),"string"==typeof t){e=!1;var m,h,p,c=n.className||n.class;for(p in i.attrs)u.call(i.attrs,p)&&(n[p]=i.attrs[p]);void 0!==c&&(void 0!==n.class&&(n.class=void 0,n.className=c),null!=i.attrs.className&&(n.className=i.attrs.className+" "+c));for(p in n)if(u.call(n,p)&&"key"!==p){e=!0;break}return Array.isArray(o)&&1===o.length&&null!=o[0]&&"#"===o[0].tag?h=o[0].children:m=o,r(i.tag,n.key,e?n:void 0,m,h)}return r(t,n.key,n,o)}function i(t){var e=0,n=null,r="function"==typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var o=Date.now();0===e||16<=o-e?(e=o,t()):null===n&&(n=r(function(){n=null,t(),e=Date.now()},16-(o-e)))}}r.normalize=function(t){return Array.isArray(t)?r("[",void 0,void 0,r.normalizeChildren(t),void 0,void 0):null!=t&&"object"!=typeof t?r("#",void 0,void 0,!1===t?"":t,void 0,void 0):t},r.normalizeChildren=function(t){for(var e=0;e<t.length;e++)t[e]=r.normalize(t[e]);return t};var a=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,l={},u={}.hasOwnProperty;o.trust=function(t){return null==t&&(t=""),r("<",void 0,void 0,t,void 0,void 0)},o.fragment=function(t,e){return r("[",t.key,t,r.normalizeChildren(e),void 0,void 0)};var c=function(t){function n(t,e){return function n(l){var c;try{if(!e||null==l||"object"!=typeof l&&"function"!=typeof l||"function"!=typeof(c=l.then))f(function(){e||0!==t.length||console.error("Possible unhandled promise rejection:",l);for(var r=0;r<t.length;r++)t[r](l);i.length=0,a.length=0,s.state=e,s.retry=function(){n(l)}});else{if(l===o)throw new TypeError("Promise can't be resolved w/ itself");r(c.bind(l))}}catch(t){u(t)}}}function r(t){function e(t){return function(e){0<n++||t(e)}}var n=0,r=e(u);try{t(e(l),r)}catch(t){r(t)}}if(!(this instanceof c))throw Error("Promise must be called with `new`");if("function"!=typeof t)throw new TypeError("executor must be a function");var o=this,i=[],a=[],l=n(i,!0),u=n(a,!1),s=o._instance={resolvers:i,rejectors:a},f="function"==typeof e?e:setTimeout;r(t)};c.prototype.then=function(t,e){function n(t,e,n,a){e.push(function(e){if("function"!=typeof t)n(e);else try{r(t(e))}catch(t){o&&o(t)}}),"function"==typeof i.retry&&a===i.state&&i.retry()}var r,o,i=this._instance,a=new c(function(t,e){r=t,o=e});return n(t,i.resolvers,r,!0),n(e,i.rejectors,o,!1),a},c.prototype.catch=function(t){return this.then(null,t)},c.resolve=function(t){return t instanceof c?t:new c(function(e){e(t)})},c.reject=function(t){return new c(function(e,n){n(t)})},c.all=function(t){return new c(function(e,n){var r=t.length,o=0,i=[];if(0===t.length)e([]);else for(var a=0;a<t.length;a++)!function(a){function l(t){o++,i[a]=t,o===r&&e(i)}null==t[a]||"object"!=typeof t[a]&&"function"!=typeof t[a]||"function"!=typeof t[a].then?l(t[a]):t[a].then(l,n)}(a)})},c.race=function(t){return new c(function(e,n){for(var r=0;r<t.length;r++)t[r].then(e,n)})},"undefined"!=typeof window?(void 0===window.Promise&&(window.Promise=c),c=window.Promise):void 0!==n&&(void 0===n.Promise&&(n.Promise=c),c=n.Promise);var s=function(t){function e(t,n){if(Array.isArray(n))for(var o=0;o<n.length;o++)e(t+"["+o+"]",n[o]);else if("[object Object]"===Object.prototype.toString.call(n))for(o in n)e(t+"["+o+"]",n[o]);else r.push(encodeURIComponent(t)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}if("[object Object]"!==Object.prototype.toString.call(t))return"";var n,r=[];for(n in t)e(n,t[n]);return r.join("&")},f=/^file:\/\//i,d=function(t,e){function n(){function t(){0==--e&&"function"==typeof c&&c()}var e=0;return function n(r){var o=r.then;return r.then=function(){e++;var i=o.apply(r,arguments);return i.then(t,function(n){if(t(),0===e)throw n}),n(i)},r}}function r(t,e){if("string"==typeof t){var n=t;t=e||{},null==t.url&&(t.url=n)}return t}function o(t,e){if(null==e)return t;for(var n=t.match(/:[^\/]+/gi)||[],r=0;r<n.length;r++){var o=n[r].slice(1);null!=e[o]&&(t=t.replace(n[r],e[o]))}return t}function i(t,e){var n=s(e);if(""!==n){t+=(0>t.indexOf("?")?"?":"&")+n}return t}function a(t){try{return""!==t?JSON.parse(t):null}catch(e){throw Error(t)}}function l(t){return t.responseText}function u(t,e){if("function"==typeof t){if(!Array.isArray(e))return new t(e);for(var n=0;n<e.length;n++)e[n]=new t(e[n])}return e}var c,d=0;return{request:function(c,s){var d=n();c=r(c,s);var m=new e(function(e,n){null==c.method&&(c.method="GET"),c.method=c.method.toUpperCase();var r="GET"!==c.method&&"TRACE"!==c.method&&("boolean"!=typeof c.useBody||c.useBody);"function"!=typeof c.serialize&&(c.serialize="undefined"!=typeof FormData&&c.data instanceof FormData?function(t){return t}:JSON.stringify),"function"!=typeof c.deserialize&&(c.deserialize=a),"function"!=typeof c.extract&&(c.extract=l),c.url=o(c.url,c.data),r?c.data=c.serialize(c.data):c.url=i(c.url,c.data);var s=new t.XMLHttpRequest,d=!1,m=s.abort;s.abort=function(){d=!0,m.call(s)},s.open(c.method,c.url,"boolean"!=typeof c.async||c.async,"string"==typeof c.user?c.user:void 0,"string"==typeof c.password?c.password:void 0),c.serialize===JSON.stringify&&r&&s.setRequestHeader("Content-Type","application/json; charset=utf-8"),c.deserialize===a&&s.setRequestHeader("Accept","application/json, text/*"),c.withCredentials&&(s.withCredentials=c.withCredentials);for(var h in c.headers)({}).hasOwnProperty.call(c.headers,h)&&s.setRequestHeader(h,c.headers[h]);"function"==typeof c.config&&(s=c.config(s,c)||s),s.onreadystatechange=function(){if(!d&&4===s.readyState)try{var t=c.extract!==l?c.extract(s,c):c.deserialize(c.extract(s,c));if(200<=s.status&&300>s.status||304===s.status||f.test(c.url))e(u(c.type,t));else{var r,o=Error(s.responseText);for(r in t)o[r]=t[r];n(o)}}catch(t){n(t)}},r&&null!=c.data?s.send(c.data):s.send()});return!0===c.background?m:d(m)},jsonp:function(a,l){var c=n();a=r(a,l);var s=new e(function(e,n){var r=a.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+d++,l=t.document.createElement("script");t[r]=function(n){l.parentNode.removeChild(l),e(u(a.type,n)),delete t[r]},l.onerror=function(){l.parentNode.removeChild(l),n(Error("JSONP request failed")),delete t[r]},null==a.data&&(a.data={}),a.url=o(a.url,a.data),a.data[a.callbackKey||"callback"]=r,l.src=i(a.url,a.data),t.document.documentElement.appendChild(l)});return!0===a.background?s:c(s)},setCompletionCallback:function(t){c=t}}}(window,c),m=function(t){function e(t,e,r,o,i,a,l){for(;r<o;r++){var u=e[r];null!=u&&n(t,u,i,l,a)}}function n(t,a,l,u,c){var d=a.tag;if("string"!=typeof d)return i(a,l),null!=a.instance?(l=n(t,a.instance,l,u,c),a.dom=a.instance.dom,a.domSize=null!=a.dom?a.instance.domSize:0,s(t,l,c),a=l):(a.domSize=0,a=_),a;switch(a.state={},null!=a.attrs&&y(a.attrs,a,l),d){case"#":return a.dom=k.createTextNode(a.children),s(t,a.dom,c),a.dom;case"<":return o(t,a,c);case"[":var m=k.createDocumentFragment();return null!=a.children&&(d=a.children,e(m,d,0,d.length,l,null,u)),a.dom=m.firstChild,a.domSize=m.childNodes.length,s(t,m,c),m;default:var h=a.tag;switch(a.tag){case"svg":u="http://www.w3.org/2000/svg";break;case"math":u="http://www.w3.org/1998/Math/MathML"}var v=(d=a.attrs)&&d.is,h=u?v?k.createElementNS(u,h,{is:v}):k.createElementNS(u,h):v?k.createElement(h,{is:v}):k.createElement(h);if(a.dom=h,null!=d)for(m in v=u,d)p(a,m,null,d[m],v);return s(t,h,c),null!=a.attrs&&null!=a.attrs.contenteditable?f(a):(null!=a.text&&(""!==a.text?h.textContent=a.text:a.children=[r("#",void 0,void 0,a.text,void 0,void 0)]),null!=a.children&&(t=a.children,e(h,t,0,t.length,l,null,u),t=a.attrs,"select"===a.tag&&null!=t&&("value"in t&&p(a,"value",null,t.value,void 0),"selectedIndex"in t&&p(a,"selectedIndex",null,t.selectedIndex,void 0)))),h}}function o(t,e,n){var r={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(e.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div",r=k.createElement(r);r.innerHTML=e.children,e.dom=r.firstChild,e.domSize=r.childNodes.length,e=k.createDocumentFragment();for(var o;o=r.firstChild;)e.appendChild(o);return s(t,e,n),e}function i(t,e){var n;if("function"==typeof t.tag.view){if(t.state=Object.create(t.tag),n=t.state.view,null!=n.$$reentrantLock$$)return _;n.$$reentrantLock$$=!0}else{if(t.state=void 0,n=t.tag,null!=n.$$reentrantLock$$)return _;n.$$reentrantLock$$=!0,t.state=null!=t.tag.prototype&&"function"==typeof t.tag.prototype.view?new t.tag(t):t.tag(t)}if(t._state=t.state,null!=t.attrs&&y(t.attrs,t,e),y(t._state,t,e),(t.instance=r.normalize(t._state.view.call(t.state,t)))===t)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null}function a(t,r,o,i,a,f,m){if(r!==o&&(null!=r||null!=o))if(null==r)e(t,o,0,o.length,a,f,void 0);else if(null==o)d(r,0,r.length,o);else{if(r.length===o.length){for(var h=!1,p=0;p<o.length;p++)if(null!=o[p]&&null!=r[p]){h=null==o[p].key&&null==r[p].key;break}if(h){for(p=0;p<r.length;p++)r[p]!==o[p]&&(null==r[p]&&null!=o[p]?n(t,o[p],a,m,c(r,p+1,f)):null==o[p]?d(r,p,p+1,o):l(t,r[p],o[p],a,c(r,p+1,f),i,m));return}}if(i||(i=null!=r.pool&&Math.abs(r.pool.length-o.length)<=Math.abs(r.length-o.length)&&(i=o[0]&&o[0].children&&o[0].children.length||0,Math.abs((r.pool[0]&&r.pool[0].children&&r.pool[0].children.length||0)-i)<=Math.abs((r[0]&&r[0].children&&r[0].children.length||0)-i))),i){var v=r.pool;r=r.concat(r.pool)}for(var g,p=h=0,y=r.length-1,w=o.length-1;y>=h&&w>=p;){var b=r[h],k=o[p];if(b!==k||i)if(null==b)h++;else if(null==k)p++;else if(b.key===k.key){var _=null!=v&&h>=r.length-v.length||null==v&&i;h++,p++,l(t,b,k,a,c(r,h,f),_,m),i&&b.tag===k.tag&&s(t,u(b),f)}else if((b=r[y])!==k||i)if(null==b)y--;else if(null==k)p++;else{if(b.key!==k.key)break;_=null!=v&&y>=r.length-v.length||null==v&&i,l(t,b,k,a,c(r,y+1,f),_,m),(i||p<w)&&s(t,u(b),c(r,h,f)),y--,p++}else y--,p++;else h++,p++}for(;y>=h&&w>=p;){if(b=r[y],k=o[w],b!==k||i)if(null==b)y--;else{if(null!=k)if(b.key===k.key)_=null!=v&&y>=r.length-v.length||null==v&&i,l(t,b,k,a,c(r,y+1,f),_,m),i&&b.tag===k.tag&&s(t,u(b),f),null!=b.dom&&(f=b.dom),y--;else{if(!g){g=r;var x,b=y,_={};for(x=0;x<b;x++){var T=g[x];null!=T&&null!=(T=T.key)&&(_[T]=x)}g=_}null!=k&&(b=g[k.key],null!=b?(_=r[b],l(t,_,k,a,c(r,y+1,f),i,m),s(t,u(_),f),r[b].skip=!0,null!=_.dom&&(f=_.dom)):f=n(t,k,a,void 0,f))}w--}else y--,w--;if(w<p)break}e(t,o,p,w+1,a,f,m),d(r,h,y+1,o)}}function l(t,e,c,s,d,h,b){var k=e.tag;if(k===c.tag){c.state=e.state,c._state=e._state,c.events=e.events;var _;if(_=!h){var x,T;null!=c.attrs&&"function"==typeof c.attrs.onbeforeupdate&&(x=c.attrs.onbeforeupdate.call(c.state,c,e)),"string"!=typeof c.tag&&"function"==typeof c._state.onbeforeupdate&&(T=c._state.onbeforeupdate.call(c.state,c,e)),void 0===x&&void 0===T||x||T?_=!1:(c.dom=e.dom,c.domSize=e.domSize,c.instance=e.instance,_=!0)}if(!_)if("string"==typeof k)switch(null!=c.attrs&&(h?(c.state={},y(c.attrs,c,s)):w(c.attrs,c,s)),k){case"#":""+e.children!=""+c.children&&(e.dom.nodeValue=c.children),c.dom=e.dom;break;case"<":e.children!==c.children?(u(e),o(t,c,d)):(c.dom=e.dom,c.domSize=e.domSize);break;case"[":if(a(t,e.children,c.children,h,s,d,b),e=0,s=c.children,c.dom=null,null!=s){for(h=0;h<s.length;h++){var C=s[h];null!=C&&null!=C.dom&&(null==c.dom&&(c.dom=C.dom),e+=C.domSize||1)}1!==e&&(c.domSize=e)}break;default:switch(t=b,d=c.dom=e.dom,c.tag){case"svg":t="http://www.w3.org/2000/svg";break;case"math":t="http://www.w3.org/1998/Math/MathML"}if("textarea"===c.tag&&(null==c.attrs&&(c.attrs={}),null!=c.text&&(c.attrs.value=c.text,c.text=void 0)),b=e.attrs,k=c.attrs,_=t,null!=k)for(C in k)p(c,C,b&&b[C],k[C],_);if(null!=b)for(C in b)null!=k&&C in k||("className"===C&&(C="class"),"o"!==C[0]||"n"!==C[1]||v(C)?"key"!==C&&c.dom.removeAttribute(C):g(c,C,void 0));null!=c.attrs&&null!=c.attrs.contenteditable?f(c):null!=e.text&&null!=c.text&&""!==c.text?""+e.text!=""+c.text&&(e.dom.firstChild.nodeValue=c.text):(null!=e.text&&(e.children=[r("#",void 0,void 0,e.text,void 0,e.dom.firstChild)]),null!=c.text&&(c.children=[r("#",void 0,void 0,c.text,void 0,void 0)]),a(d,e.children,c.children,h,s,null,t))}else{if(h)i(c,s);else{if((c.instance=r.normalize(c._state.view.call(c.state,c)))===c)throw Error("A view cannot return the vnode it received as argument");null!=c.attrs&&w(c.attrs,c,s),w(c._state,c,s)}null!=c.instance?(null==e.instance?n(t,c.instance,s,b,d):l(t,e.instance,c.instance,s,d,h,b),c.dom=c.instance.dom,c.domSize=c.instance.domSize):null!=e.instance?(m(e.instance,null),c.dom=void 0,c.domSize=0):(c.dom=e.dom,c.domSize=e.domSize)}}else m(e,null),n(t,c,s,b,d)}function u(t){var e=t.domSize;if(null!=e||null==t.dom){var n=k.createDocumentFragment();if(0<e){for(t=t.dom;--e;)n.appendChild(t.nextSibling);n.insertBefore(t,n.firstChild)}return n}return t.dom}function c(t,e,n){for(;e<t.length;e++)if(null!=t[e]&&null!=t[e].dom)return t[e].dom;return n}function s(t,e,n){n&&n.parentNode?t.insertBefore(e,n):t.appendChild(e)}function f(t){var e=t.children;if(null!=e&&1===e.length&&"<"===e[0].tag)e=e[0].children,t.dom.innerHTML!==e&&(t.dom.innerHTML=e);else if(null!=t.text||null!=e&&0!==e.length)throw Error("Child node of a contenteditable must be trusted")}function d(t,e,n,r){for(;e<n;e++){var o=t[e];null!=o&&(o.skip?o.skip=!1:m(o,r))}}function m(t,e){function n(){if(++o===r&&(h(t),t.dom)){var n=t.domSize||1;if(1<n)for(var i=t.dom;--n;){var a=i.nextSibling,l=a.parentNode;null!=l&&l.removeChild(a)}n=t.dom,i=n.parentNode,null!=i&&i.removeChild(n),(n=null!=e&&null==t.domSize)&&(n=t.attrs,n=!(null!=n&&(n.oncreate||n.onupdate||n.onbeforeremove||n.onremove))),n&&"string"==typeof t.tag&&(e.pool?e.pool.push(t):e.pool=[t])}}var r=1,o=0;if(t.attrs&&"function"==typeof t.attrs.onbeforeremove){var i=t.attrs.onbeforeremove.call(t.state,t);null!=i&&"function"==typeof i.then&&(r++,i.then(n,n))}"string"!=typeof t.tag&&"function"==typeof t._state.onbeforeremove&&null!=(i=t._state.onbeforeremove.call(t.state,t))&&"function"==typeof i.then&&(r++,i.then(n,n)),n()}function h(t){if(t.attrs&&"function"==typeof t.attrs.onremove&&t.attrs.onremove.call(t.state,t),"string"!=typeof t.tag&&"function"==typeof t._state.onremove&&t._state.onremove.call(t.state,t),null!=t.instance)h(t.instance);else if(t=t.children,Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];null!=n&&h(n)}}function p(t,e,n,r,o){var i=t.dom;if("key"!==e&&"is"!==e&&(n!==r||"value"===e||"checked"===e||"selectedIndex"===e||"selected"===e&&t.dom===k.activeElement||"object"==typeof r)&&void 0!==r&&!v(e)){var a=e.indexOf(":");if(-1<a&&"xlink"===e.substr(0,a))i.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(a+1),r);else if("o"===e[0]&&"n"===e[1]&&"function"==typeof r)g(t,e,r);else if("style"===e)if(t=n,t===r&&(i.style.cssText="",t=null),null==r)i.style.cssText="";else if("string"==typeof r)i.style.cssText=r;else{"string"==typeof t&&(i.style.cssText="");for(var l in r)i.style[l]=r[l];if(null!=t&&"string"!=typeof t)for(l in t)l in r||(i.style[l]="")}else e in i&&"href"!==e&&"list"!==e&&"form"!==e&&"width"!==e&&"height"!==e&&void 0===o&&!(t.attrs.is||-1<t.tag.indexOf("-"))?"input"===t.tag&&"value"===e&&t.dom.value==r&&t.dom===k.activeElement||"select"===t.tag&&"value"===e&&t.dom.value==r&&t.dom===k.activeElement||"option"===t.tag&&"value"===e&&t.dom.value==r||("input"===t.tag&&"type"===e?i.setAttribute(e,r):i[e]=r):"boolean"==typeof r?r?i.setAttribute(e,""):i.removeAttribute(e):i.setAttribute("className"===e?"class":e,r)}}function v(t){return"oninit"===t||"oncreate"===t||"onupdate"===t||"onremove"===t||"onbeforeremove"===t||"onbeforeupdate"===t}function g(t,e,n){var r=t.dom,o="function"!=typeof b?n:function(t){var e=n.call(r,t);return b.call(r,t),e};if(e in r)r[e]="function"==typeof n?o:null;else{var i=e.slice(2);void 0===t.events&&(t.events={}),t.events[e]!==o&&(null!=t.events[e]&&r.removeEventListener(i,t.events[e],!1),"function"==typeof n&&(t.events[e]=o,r.addEventListener(i,t.events[e],!1)))}}function y(t,e,n){"function"==typeof t.oninit&&t.oninit.call(e.state,e),"function"==typeof t.oncreate&&n.push(t.oncreate.bind(e.state,e))}function w(t,e,n){"function"==typeof t.onupdate&&n.push(t.onupdate.bind(e.state,e))}var b,k=t.document,_=k.createDocumentFragment();return{render:function(t,e){if(!t)throw Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var n=[],o=k.activeElement;null==t.vnodes&&(t.textContent=""),Array.isArray(e)||(e=[e]),a(t,t.vnodes,r.normalizeChildren(e),!1,n,null,void 0),t.vnodes=e;for(var i=0;i<n.length;i++)n[i]();k.activeElement!==o&&o.focus()},setEventCallback:function(t){return b=t}}},h=function(t){function e(t){-1<(t=r.indexOf(t))&&r.splice(t,2)}function n(){for(var t=1;t<r.length;t+=2)r[t]()}t=m(t),t.setEventCallback(function(t){!1!==t.redraw&&n()});var r=[];return{subscribe:function(t,n){e(t),r.push(t,i(n))},unsubscribe:e,redraw:n,render:t.render}}(window);d.setCompletionCallback(h.redraw),o.mount=function(t){return function(e,n){if(null===n)t.render(e,[]),t.unsubscribe(e);else{if(null==n.view&&"function"!=typeof n)throw Error("m.mount(element, component) expects a component, not a vnode");t.subscribe(e,function(){t.render(e,r(n))}),t.redraw()}}}(h);var p=c,v=function(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1)),t=t.split("&");for(var e={},n={},r=0;r<t.length;r++){var o=t[r].split("="),i=decodeURIComponent(o[0]),o=2===o.length?decodeURIComponent(o[1]):"";"true"===o?o=!0:"false"===o&&(o=!1);var a=i.split(/\]\[?|\[/),l=e;-1<i.indexOf("[")&&a.pop();for(var u=0;u<a.length;u++){var i=a[u],c=a[u+1],c=""==c||!isNaN(parseInt(c,10)),s=u===a.length-1;""===i&&(i=a.slice(0,u).join(),null==n[i]&&(n[i]=0),i=n[i]++),null==l[i]&&(l[i]=s?o:c?[]:{}),l=l[i]}}return e},g=function(t){function n(e){var n=t.location[e].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return"pathname"===e&&"/"!==n[0]&&(n="/"+n),n}function r(t){return function(){null==i&&(i=l(function(){i=null,t()}))}}function o(t,e,n){var r=t.indexOf("?"),o=t.indexOf("#"),i=-1<r?r:-1<o?o:t.length;if(-1<r){var a,r=v(t.slice(r+1,-1<o?o:t.length));for(a in r)e[a]=r[a]}if(-1<o)for(a in e=v(t.slice(o+1)))n[a]=e[a];return t.slice(0,i)}var i,a="function"==typeof t.history.pushState,l="function"==typeof e?e:setTimeout,u={prefix:"#!",getPath:function(){switch(u.prefix.charAt(0)){case"#":return n("hash").slice(u.prefix.length);case"?":return n("search").slice(u.prefix.length)+n("hash");default:return n("pathname").slice(u.prefix.length)+n("search")+n("hash")}},setPath:function(e,n,r){var i={},l={};if(e=o(e,i,l),null!=n){for(var c in n)i[c]=n[c];e=e.replace(/:([^\/]+)/g,function(t,e){return delete i[e],n[e]})}(c=s(i))&&(e+="?"+c),(l=s(l))&&(e+="#"+l),a?(l=r?r.state:null,c=r?r.title:null,t.onpopstate(),r&&r.replace?t.history.replaceState(l,c,u.prefix+e):t.history.pushState(l,c,u.prefix+e)):t.location.href=u.prefix+e},defineRoutes:function(e,n,i){function l(){var r=u.getPath(),a={},l=o(r,a,a),c=t.history.state;if(null!=c)for(var s in c)a[s]=c[s];for(var f in e)if(c=RegExp("^"+f.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$"),c.test(l))return void l.replace(c,function(){for(var t=f.match(/:[^\/]+/g)||[],o=[].slice.call(arguments,1,-2),i=0;i<t.length;i++)a[t[i].replace(/:|\./g,"")]=decodeURIComponent(o[i]);n(e[f],a,r,f)});i(r,a)}a?t.onpopstate=r(l):"#"===u.prefix.charAt(0)&&(t.onhashchange=l),l()}};return u};o.route=function(t,e){var n,o,i,a,l,u=g(t),c=function(t){return t},s=function(t,s,f){if(null==t)throw Error("Ensure the DOM element that was passed to `m.route` is not undefined");var d=function(){null!=n&&e.render(t,n(r(o,i.key,i)))},m=function(t){if(t===s)throw Error("Could not resolve default route "+s);u.setPath(s,null,{replace:!0})};u.defineRoutes(f,function(t,e,r){var u=l=function(t,s){u===l&&(o=null==s||"function"!=typeof s.view&&"function"!=typeof s?"div":s,i=e,a=r,l=null,n=(t.render||c).bind(t),d())};t.view||"function"==typeof t?u({},t):t.onmatch?p.resolve(t.onmatch(e,r)).then(function(e){u(t,e)},m):u(t,"div")},m),e.subscribe(t,d)};return s.set=function(t,e,n){null!=l&&(n={replace:!0}),l=null,u.setPath(t,e,n)},s.get=function(){return a},s.prefix=function(t){u.prefix=t},s.link=function(t){t.dom.setAttribute("href",u.prefix+t.attrs.href),t.dom.onclick=function(t){t.ctrlKey||t.metaKey||t.shiftKey||2===t.which||(t.preventDefault(),t.redraw=!1,t=this.getAttribute("href"),0===t.indexOf(u.prefix)&&(t=t.slice(u.prefix.length)),s.set(t,void 0,void 0))}},s.param=function(t){return void 0!==i&&void 0!==t?i[t]:i},s}(window,h),o.withAttr=function(t,e,n){return function(r){e.call(n||this,t in r.currentTarget?r.currentTarget[t]:r.currentTarget.getAttribute(t))}},o.render=m(window).render,o.redraw=h.redraw,o.request=d.request,o.jsonp=d.jsonp,o.parseQueryString=v,o.buildQueryString=s,o.version="1.1.1",o.vnode=r,t.exports=o}()}).call(e,n(21).setImmediate,n(3))},function(t,e){function n(){throw Error("setTimeout has not been defined")}function r(){throw Error("clearTimeout has not been defined")}function o(t){if(s===setTimeout)return setTimeout(t,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){p&&m&&(p=!1,m.length?h=m.concat(h):v=-1,h.length&&l())}function l(){if(!p){var t=o(a);p=!0;for(var e=h.length;e;){for(m=h,h=[];++v<e;)m&&m[v].run();v=-1,e=h.length}m=null,p=!1,i(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var s,f,d=t.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:n}catch(t){s=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var m,h=[],p=!1,v=-1;d.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new u(t,e)),1!==h.length||p||o(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=Function(""+t));for(var e=Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];return c[u]={callback:t,args:e},l(u),u++}function o(t){delete c[t]}function i(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function a(t){if(s)setTimeout(a,0,t);else{var e=c[t];if(e){s=!0;try{i(e)}finally{o(t),s=!1}}}}if(!t.setImmediate){var l,u=1,c={},s=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?function(){l=function(t){e.nextTick(function(){a(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),l=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},l=function(e){t.port2.postMessage(e)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var t=f.documentElement;l=function(e){var n=f.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){l=function(t){setTimeout(a,0,t)}}(),d.setImmediate=r,d.clearImmediate=o}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(3),n(18))},function(t,e){!function(e,n){"object"==typeof t&&t.exports?(t.exports=n(),t.exports.default=t.exports):e.timeago=n()}("undefined"!=typeof window?window:this,function(){function t(t){return t instanceof Date?t:isNaN(t)?/^\d+$/.test(t)?new Date(e(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)):new Date(e(t))}function e(t){return parseInt(t)}function n(t,n,r){n=m[n]?n:m[r]?r:"en";for(var o=0,i=t<0?1:0,a=t=Math.abs(t);t>=h[o]&&o<p;o++)t/=h[o];return t=e(t),o*=2,t>(0===o?9:1)&&(o+=1),m[n](t,o,a)[i].replace("%s",t)}function r(e,n){return((n=n?t(n):new Date)-t(e))/1e3}function o(t){for(var e=1,n=0,r=Math.abs(t);t>=h[n]&&n<p;n++)t/=h[n],e*=h[n];return r%=e,r=r?e-r:e,Math.ceil(r)}function i(t){return t.dataset.timeago?t.dataset.timeago:a(t,v)}function a(t,e){return t.getAttribute?t.getAttribute(e):t.attr?t.attr(e):void 0}function l(t,e){return t.setAttribute?t.setAttribute(g,e):t.attr?t.attr(g,e):void 0}function u(t){return a(t,g)}function c(t,e){this.nowDate=t,this.defaultLocale=e||"en"}function s(t,e){return new c(t,e)}var f="second_minute_hour_day_week_month_year".split("_"),d="秒_分钟_小时_天_周_月_年".split("_"),m={en:function(t,e){if(0===e)return["just now","right now"];var n=f[parseInt(e/2)];return t>1&&(n+="s"),[t+" "+n+" ago","in "+t+" "+n]},zh_CN:function(t,e){if(0===e)return["刚刚","片刻后"];var n=d[parseInt(e/2)];return[t+n+"前",t+n+"后"]}},h=[60,60,24,7,365/7/12,12],p=6,v="datetime",g="data-tid",y={};return c.prototype.doRender=function(t,e,i){var a,u=r(e,this.nowDate),c=this;t.innerHTML=n(u,i,this.defaultLocale),y[a=setTimeout(function(){c.doRender(t,e,i),delete y[a]},Math.min(1e3*o(u),2147483647))]=0,l(t,a)},c.prototype.format=function(t,e){return n(r(t,this.nowDate),e,this.defaultLocale)},c.prototype.render=function(t,e){void 0===t.length&&(t=[t]);for(var n=0,r=t.length;n<r;n++)this.doRender(t[n],i(t[n]),e)},c.prototype.setLocale=function(t){this.defaultLocale=t},s.register=function(t,e){m[t]=e},s.cancel=function(t){var e;if(t)(e=u(t))&&(clearTimeout(e),delete y[e]);else{for(e in y)clearTimeout(e);y={}}},s})},function(t,e,n){function r(t,e){this._id=t,this._clearFn=e}var o=Function.prototype.apply;e.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(19),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){t.exports=n(4)}]);