!function(e){function t(r){if(n[r])return n[r].exports;var c=n[r]={i:r,l:!1,exports:{}};return e[r].call(c.exports,c,c.exports,t),c.l=!0,c.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=23)}({1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[{title:"Top",section:"top",paginated:!0},{title:"New",section:"new",paginated:!0},{title:"Show",section:"show",paginated:!0},{title:"Ask",section:"ask",paginated:!0},{title:"Jobs",section:"job",paginated:!0}],c=["/hackernews/top/1"],o=function(){};t.default={sections:r,urlsToCache:c,cacheName:"hn-mithril",cacheVersion:"v1::",Log:o,hnOptions:{log:o,watch:!0}}},23:function(e,t,n){e.exports=n(5)},5:function(e,t,n){"use strict";var r=n(1),c=function(e){return e&&e.__esModule?e:{default:e}}(r),o=c.default.Log,a=function(e){return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(t){t.forEach(function(t){t.postMessage(e)})})},i=function(e){return function(t){if(o("WORKER: fetch response from network.",e.request.url),t&&200===t.status&&"basic"===t.type){var n=t.clone();return caches.open(c.default.cacheVersion+c.default.cacheName).then(function(t){return t.put(e.request,n)}).then(function(){return o("WORKER: fetch response stored in cache.",e.request.url)}),t}}},u=function(){return o("WORKER: fetch request failed in both cache and network."),new Response("<h1>Service Unavailable</h1>",{status:503,statusText:"Service Unavailable",headers:new Headers({"Content-Type":"text/html"})})};self.addEventListener("fetch",function(e){o("WORKER: fetch event in progress.",e.request.url);var t=new URL(e.request.url);"GET"===e.request.method&&(o("WORKER: fetchevent for "+t),e.respondWith(caches.match(e.request).then(function(t){o("WORKER: fetch event",t?"(cached)":"(network)",e.request.url);var n=fetch(e.request).then(i(e),u).catch(function(e){return console.log(e),caches.match("/")});return t||n})))});self.addEventListener("install",function(e){e.waitUntil(caches.open(c.default.cacheVersion+c.default.cacheName).then(function(e){return e.addAll(c.default.urlsToCache)}).catch(function(e){return console.error("WORKER: Failed to cache",e)}))}),self.addEventListener("activate",function(e){e.waitUntil(caches.keys().then(function(e){return Promise.all(e.filter(function(e){return!e.startsWith(c.default.cacheVersion)}).map(function(e){return caches.delete(e)}))}).then(function(){return self.clients.claim()}))}),self.addEventListener("message",function(e){"init"===e.data&&a("ready")})}});